<ion-header>
	<ion-navbar danger>
		<ion-title>
			iWitness
		</ion-title>

		 <button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
	</ion-navbar>
</ion-header>

<ion-content class="home">
     <ion-card>

      <form #reportForm="ngForm" novalidate>
        <ion-item>
          <ion-label floating primary>Report Title</ion-label>
          <ion-input [(ngModel)]="report.title" name="title" type="text" #title="ngModel" required></ion-input>
        </ion-item>
        <div [hidden]="title.valid || title.untouched" >
          <p  *ngIf="title.errors && title.errors.required" danger padding-left>
            Title is required
          </p>
        </div>

        <ion-item>
          <ion-label floating primary>Email Address</ion-label>
          <ion-input [(ngModel)]="report.email" name="email" type="text" #email="ngModel" required pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$">
          </ion-input>
        </ion-item>
        <div [hidden]="email.valid || email.untouched" >
          <p  *ngIf="email.errors && email.errors.required" danger padding-left>
            Email is required
          </p>
          <p *ngIf="email.errors && email.errors.pattern" danger padding-left>
            Email is invalid
          </p>
        </div>

        <ion-item>
          <ion-label floating primary>Phone</ion-label>
          <ion-input [(ngModel)]="report.phone" name="phone" type="text" #phone="ngModel"  pattern="^[0-9]*$">
          </ion-input>
        </ion-item>
        <div [hidden]="phone.valid || phone.untouched" >

          <p *ngIf="phone.errors && phone.errors.pattern" danger padding-left>
            Phone Number is invalid. Enter a valid Phone number
          </p>
          </div>

          <ion-item>
          <ion-label floating primary>Report Message</ion-label>
          <ion-textarea [(ngModel)]="report.message" name="message" type="text" #message="ngModel" required></ion-textarea>
         </ion-item>
        <div [hidden]="message.valid || message.untouched" >
          <p  *ngIf="message.errors && message.errors.required" danger padding-left>
            Phone Number is required
          </p>
          </div>

        <ion-item>
          <button ion-button color="primary" (click)="FileSelected()" outline>Select Image</button>
        </ion-item>

        <div padding>
          <button (click)="onSubmit(reportForm)" type="submit" danger block>Submit</button>
        </div>

      </form>
  </ion-card>
</ion-content>
